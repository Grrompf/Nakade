<?php
$this->plugin('translate')->setTranslatorTextDomain('League');
/* @var $match \Season\Entity\Match */
$title = $this->translate("Results - Match Day %no%");
$title = str_replace('%no%', $this->matchDay, $title);
$this->headTitle('Actual Results');
?>

<?php $this->placeholder('noResults')->captureStart();?>
<h3><?php echo $this->translate('No results found')?></h3>
<?php $this->placeholder('noResults')->captureEnd(); ?>

<?php $this->placeholder('openResults')->captureStart();?>

<h3><?php echo $title; ?></h3>



<table class="league" style="width: auto; margin-top: 0.5em;">
<?php foreach ($this->matches as $match) : ?>
<tr>
    <td style="text-decoration: <?php echo $this->isWinner($match, $match->getBlack()); ?>"><?php echo $match->getBlack()->getShortName();?></td>
    <td class="versus">-</td>
    <td style="text-decoration: <?php echo $this->isWinner($match, $match->getWhite()); ?>" class="space"><?php echo $match->getWhite()->getShortName();?></td>
    <td><?php if ($match->hasResult()) {

         switch($match->getResult()->getId()) {
             case 1:
                 $show='R';
                 break;
             case 2:
                 $show = $match->getPoints();
                 break;
             case 3:
                 $show='D';
                 break;
             case 4:
                 $show='F';
                 break;
             case 5:
                 $show='S';
                 break;
             case 6:
                 $show='T';
                 break;
             default:
                 $show='R';
         }
         echo $this->result($match) . '  (' . $show . ')';
} else {
         echo $match->getDate()->format('d.m.  H:i');
}?></td>
</tr>
<?php
endforeach; ?>
</table>

<?php $this->placeholder('openResults')->captureEnd();

  if (is_null($this->matches)) {
      echo $this->placeholder('noResults');
  } else {
      echo $this->placeholder('openResults');
  }
