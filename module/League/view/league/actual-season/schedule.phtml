<?php
$this->plugin('translate')->setTranslatorTextDomain('League');

/* @var $match \Season\Entity\Match */
/* @var $season \Season\Entity\Season */
$season = $this->season;
$association = $season->getAssociation()->getName();
$title = $this->translate("%name% 1. League") . " " . $season->getStartDate()->format('Y');
$title = str_replace("%name%", $association, $title);
$this->headTitle('schedule');
?>
<?php $this->placeholder('noSeason')->captureStart();?>
<h3><?php echo $this->translate('No season found')?></h3>
<?php $this->placeholder('noSeason')->captureEnd(); ?>

<?php $this->placeholder('schedule')->captureStart();?>
<h3><?php echo $title; ?></h3>
<table class="league">
<?php foreach ($this->matches as $match) : ?>
<tr style="background-color:<?php echo $this->highlight($match); ?>">
    <td class="space"><?php echo $match->getDate()->format('d.m. H:i');?></td>
    <td class="black"></td>
    <td style="text-decoration: <?php echo $this->isWinner($match, $match->getBlack()); ?>" title="<?php
        echo $match->getBlack()->getShortName();?>"><?php
            echo $match->getBlack()->getOnlineName();
    ?>
    </td>
    <td class="versus">-</td>
    <td class="white"></td>
    <td class="space" style="text-decoration:<?php echo $this->isWinner($match, $match->getWhite()); ?>" title="<?php
    echo $match->getWhite()->getShortName();?>"><?php
        echo $match->getWhite()->getOnlineName();
    ?>
    </td>
    <td><?php echo $this->result($match); ?></td>
</tr>
<?php
endforeach;
?>
</table>


<?php $this->placeholder('schedule')->captureEnd();

  if (is_null($this->matches)) {
      echo $this->placeholder('noSeason');
  } else {
      echo $this->placeholder('schedule');
  }
