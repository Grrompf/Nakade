<?php
$this->plugin('translate')->setTranslatorTextDomain('Message'); 
$this->headTitle("Messages");
?>
<?php $this->placeholder('nothing')->captureStart();?>
<h3><?php echo $this->translate('No messages found')?></h3>
<?php $this->placeholder('nothing')->captureEnd(); ?>


<?php $this->placeholder('messages')->captureStart();?>
<h3><?php //echo $this->escapeHtml($this->title); ?></h3>
<table class="table" style="width: auto; margin-top: 0.5em;">
<tr>
    <th title="<?php echo $this->translate('Subject');?>">
        <?php echo $this->translate('Subject');?></th>
    <th title="<?php echo $this->translate('Date');?>">
        <?php echo $this->translate('Date')?></th>
    <th title="<?php echo $this->translate('read')?>">
        <?php echo $this->translate('read')?></th>
    <th title="<?php echo $this->translate('from')?>">
        <?php echo $this->translate('from')?></th>
</tr>
<?php foreach ($this->messages as $message) : ?>
<tr style="background-color:<?php 
    echo $this->cycle(array("#F0F0F0","transparent"))->next()?>">
    <td><?php echo $message->getSubject() ?></td>
    <td><?php echo $message->getSendDate()->format('d.m.y H:i');?></td>
    <td><?php //echo $player->getGamesPlayed(); ?></td>
    <td><?php //echo $player->getGamesPoints();?></td>
    
    
</tr>
<?php endforeach; ?>
</table>
<?php $this->placeholder('messages')->captureEnd(); 

  if($this->messages!=null)
      echo $this->placeholder('messages');
  else echo $this->placeholder('nothing');        
        
?>
