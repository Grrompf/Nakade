<?php
$this->plugin('translate')->setTranslatorTextDomain('Season');
/* @var $season \Season\Entity\Season */
$season = $this->season;
$this->headTitle('Overview');
$title = sprintf("%s: %s %s",
    $this->translate('Create a New Season'),
    $this->seasonTitle($season),
    $this->translate('League'));

?>

<h2><?php echo  $title;?></h2>
<hr/>
<?php $this->placeholder('noSeason')->captureStart();?>
<?php echo $this->translate("No season found."); ?>
<a class="btn" href="<?php echo $this->url('createSeason', array('action' => 'add')); ?>"><?php echo $this->translate("create Season"); ?></a>
<?php $this->placeholder('noSeason')->captureEnd();?>


<?php $this->placeholder('actual')->captureStart();?>
<h4><?php echo $this->translate("Season no.") . ' ' . $season->getNumber()?></h4>
<ul style="margin-top:10px;">
    <li><?php echo $this->translate('Leagues') . ': ' . $season->getNoLeagues() ?><a href="<?php echo $this->url('createLeague'); ?>" title="<?php echo "League Info" ?>"><img title="<?php echo "League Info" ?>" style="vertical-align:top; margin-left:10px" src="/images/info.png"></a></li>
    <li><?php echo $this->translate('Participants') . ': ' . $season->getNoPlayers() ?><a href="<?php echo $this->url('invitePlayer'); ?>" title="<?php echo "Player Info" ?>"><img title="<?php echo "Player Info" ?>" style="vertical-align:top; margin-left:10px" src="/images/info.png"></a></li></li>
    <li><?php echo $this->translate('Matches') . ': ' . $season->getNoMatches() ?></li>
    <li><?php echo $this->translate('First match') . ': ' . $this->matchDate($season->getFirstMatchDate()); ?></li>
    <li><?php echo $this->translate('Last match') . ': ' . $this->matchDate($season->getLastMatchDate()); ?></li>
    <li><?php echo $this->translate('State') . ': ' . $this->state($season); ?></li>
</ul>
<hr/>

<?php if ($season->getNoPlayers() == 0): ?>
    <a class="btn" href="<?php echo $this->url('createSeason', array('action' => 'edit')); ?>"><?php echo $this->translate("edit Season"); ?></a>
<?php
endif; ?>



<?php if ($season->hasMatchDays()): //todo: hasSchedule ?>
    <a class="btn" href="<?php echo $this->url('configMatchDay'); ?>"><?php echo $this->translate("edit Match Days"); ?></a>
    <a class="btn" href="<?php echo $this->url('configMatchDay', array('action' => 'delete')); ?>"><?php echo $this->translate("remove Match Days"); ?></a>
<?php else: //todo: hasLeagues && hasPlayers for configure match days ?>
    <a class="btn" href="<?php echo $this->url('invitePlayer', array('action' => 'add')); ?>"><?php echo $this->translate("invite Player"); ?></a>
    <a class="btn" href="<?php echo $this->url('createLeague', array('action' => 'add')); ?>"><?php echo $this->translate("add League"); ?></a>
    <a class="btn" href="<?php echo $this->url('createLeague', array('action' => 'show')); ?>"><?php echo $this->translate("edit League"); ?></a>
    <a class="btn" href="<?php echo $this->url('configMatchDay', array('action' => 'add')); ?>"><?php echo $this->translate("configure Match Days"); ?></a>
<?php
endif; ?>

<a class="btn" href="<?php echo $this->url('createSchedule', array('action' => 'create')); ?>"><?php echo $this->translate("create Schedule"); ?></a>

<?php $this->placeholder('actual')->captureEnd(); ?>


<?php

if (is_null($this->season)) {
    echo $this->placeholder('noSeason');
} else {
    echo $this->placeholder('actual');
}







